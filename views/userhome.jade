doctype html
html(lang='en')
  head
    title MyWeb
    link(href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet")
    link(href="https://fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet")
    link(rel='stylesheet', href='https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css')
    link(rel="stylesheet",href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css")
    link(href='/stylesheets/userhome.css', rel='stylesheet')

  body
    script.
      user="#{user}";
    #app
      nav
        .navcontainer
          a(href='#' @click='showExpanded = !showExpanded') {{ balance }} credits
          a(href='#' @click='showExpandedProfile = !showExpandedProfile') {{ username }}
            span.expand.glyphicon.glyphicon-cog(style='color:white;', aria-hidden='true')
        #tabbar
          a.tab-button(:class="{ active: inAdStream }" @click='viewAdStream') Ad Stream
          a.tab-button(:class="{ active: inAdAd }" @click='view="adad"') Create Ad
          a.tab-button(:class="{ active: inEmbed }" @click='view="embed"') Embed Ad
          a.tab-button(:class="{ active: inGallery }" @click='view="gallery"') My Ads

      transition(name='drop')
        .adstreamcontainer(v-if='view == "adstream"')
          button.cta#more(type='button' @click='viewAdStream') More
          .divider
          #adstream
            adbox(v-for='ad in ads', :ad='ad')
          .divider
          .divider
          .divider
          .divider
          .divider
          .divider
      transition(name='drop')
        .uploadcontainer(v-if='view == "adad"')
          .center
            .divider
            .divider
            h2 Create an ad
            p.center Whenever it's displayed, you'll earn adbucks automatically
            form(action="/createAd" method="post")
              input(type='text' name='name' placeholder='name')
              input(type='text' name='url' placeholder='image url')
              input(type='text' name='src' placeholder='ad link')
              input(type='hidden' name='username' v-bind:value='username')
              input.cta(type='submit' value='Submit')
      transition(name='drop')
        .gallery(v-if='view == "gallery"')
          button#new(type='button' @click='view = "adad"') +
          .divider
          .adgallery.center
            .flexcontainer
              galleryad(v-for='ad in myads', :ad='ad')
      transition(name='drop')
        .embedcontainer.center(v-if='view == "embed"')
          .divider
          .divider
          .divider
          h1 How to use:
          p Simply copy and paste the following code into your website
          .divider
          .codecontainer(@click="autoselect")
            p {{embed_code}}

    script(src="/javascripts/vue.js")
    script(src="/javascripts/util.js")
    script(src="https://cdn.jsdelivr.net/vue.resource/1.0.3/vue-resource.min.js")
    script(src="/javascripts/userhomevue.js")
